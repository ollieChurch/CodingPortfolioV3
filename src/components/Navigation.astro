---
import { navLinks } from '../data/navLinks';
---

<nav class="sticky top-0 z-50 border-b border-[var(--color-bg-dark-card)] bg-[var(--color-bg-dark)]/80 backdrop-blur-sm">
  <div class="mx-auto flex max-w-5xl items-center justify-between px-4 py-4">
    <a href="/" class="font-mono text-lg text-[var(--color-cyan)]">~/ollie</a>

    <!-- Desktop nav -->
    <div class="hidden items-center gap-6 md:flex">
      {navLinks.map((link) => (
        <a href={link.href} class="text-sm text-gray-400 hover:text-[var(--color-cyan)]">
          {link.label}
        </a>
      ))}
    </div>

    <!-- Mobile hamburger button -->
    <button
      id="menu-toggle"
      class="p-2 md:hidden"
      aria-label="Toggle menu"
      aria-expanded="false"
    >
      <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path id="icon-open" stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
        <path id="icon-close" class="hidden" stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>
  </div>

  <!-- Mobile menu -->
  <div id="mobile-menu" class="hidden border-t border-[var(--color-bg-dark-card)] px-4 pb-4 md:hidden">
    {navLinks.map((link) => (
      <a href={link.href} class="block py-2 text-sm text-gray-400 hover:text-[var(--color-cyan)]">
        {link.label}
      </a>
    ))}
  </div>
</nav>

<script is:inline>
  document.getElementById('menu-toggle').addEventListener('click', function () {
    const menu = document.getElementById('mobile-menu');
    const iconOpen = document.getElementById('icon-open');
    const iconClose = document.getElementById('icon-close');
    const expanded = this.getAttribute('aria-expanded') === 'true';

    this.setAttribute('aria-expanded', String(!expanded));
    menu.classList.toggle('hidden');
    iconOpen.classList.toggle('hidden');
    iconClose.classList.toggle('hidden');
  });
</script>
